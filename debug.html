<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Debug Social Network</title>
    <style>
        body { 
            background: #000; 
            color: #fff; 
            font-family: Arial, sans-serif;
            padding: 20px;
        }
        .debug { 
            background: #333; 
            padding: 10px; 
            margin: 10px 0; 
            border-radius: 5px;
        }
        .error { background: #600; }
        .success { background: #060; }
        .info { background: #006; }
    </style>
</head>
<body>
    <h1>üîç Debug Social Network</h1>
    
    <div class="debug info">
        <h3>üìä Informazioni Sistema</h3>
        <p>User Agent: <span id="userAgent"></span></p>
        <p>Screen: <span id="screen"></span></p>
        <p>Viewport: <span id="viewport"></span></p>
        <p>URL: <span id="url"></span></p>
    </div>
    
    <div class="debug info">
        <h3>üîó Test Connessioni</h3>
        <button onclick="testAPI()">Test API</button>
        <button onclick="testBundle()">Test Bundle</button>
        <button onclick="testStorage()">Test Storage</button>
        <div id="testResults"></div>
    </div>
    
    <div class="debug info">
        <h3>üì± Test Mobile</h3>
        <button onclick="testMobile()">Test Mobile</button>
        <div id="mobileResults"></div>
    </div>
    
    <div class="debug info">
        <h3>üéØ Test React</h3>
        <button onclick="testReact()">Test React</button>
        <div id="reactResults"></div>
    </div>
    
    <div id="root"></div>
    
    <script>
        // Informazioni sistema
        document.getElementById('userAgent').textContent = navigator.userAgent;
        document.getElementById('screen').textContent = `${screen.width}x${screen.height}`;
        document.getElementById('viewport').textContent = `${window.innerWidth}x${window.innerHeight}`;
        document.getElementById('url').textContent = window.location.href;
        
        // Test API
        async function testAPI() {
            const results = document.getElementById('testResults');
            try {
                const response = await fetch('/api/health');
                const data = await response.json();
                results.innerHTML = `<div class="success">‚úÖ API OK: ${data.message}</div>`;
            } catch (error) {
                results.innerHTML = `<div class="error">‚ùå API Error: ${error.message}</div>`;
            }
        }
        
        // Test Bundle
        function testBundle() {
            const results = document.getElementById('testResults');
            try {
                const script = document.createElement('script');
                script.src = '/bundle.js';
                script.onload = () => {
                    results.innerHTML = `<div class="success">‚úÖ Bundle caricato</div>`;
                };
                script.onerror = () => {
                    results.innerHTML = `<div class="error">‚ùå Bundle non caricato</div>`;
                };
                document.head.appendChild(script);
            } catch (error) {
                results.innerHTML = `<div class="error">‚ùå Bundle Error: ${error.message}</div>`;
            }
        }
        
        // Test Storage
        function testStorage() {
            const results = document.getElementById('testResults');
            try {
                localStorage.setItem('test', 'value');
                const value = localStorage.getItem('test');
                if (value === 'value') {
                    results.innerHTML = `<div class="success">‚úÖ Storage OK</div>`;
                } else {
                    results.innerHTML = `<div class="error">‚ùå Storage Error</div>`;
                }
            } catch (error) {
                results.innerHTML = `<div class="error">‚ùå Storage Error: ${error.message}</div>`;
            }
        }
        
        // Test Mobile
        function testMobile() {
            const results = document.getElementById('mobileResults');
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            if (isMobile) {
                results.innerHTML = `<div class="success">‚úÖ Dispositivo Mobile rilevato</div>`;
            } else {
                results.innerHTML = `<div class="info">‚ÑπÔ∏è Dispositivo Desktop</div>`;
            }
        }
        
        // Test React
        function testReact() {
            const results = document.getElementById('reactResults');
            try {
                const root = document.getElementById('root');
                if (root) {
                    root.innerHTML = '<h2 style="color: #00ff00;">‚úÖ React Test Funziona!</h2>';
                    results.innerHTML = `<div class="success">‚úÖ React Test OK</div>`;
                } else {
                    results.innerHTML = `<div class="error">‚ùå Root element non trovato</div>`;
                }
            } catch (error) {
                results.innerHTML = `<div class="error">‚ùå React Error: ${error.message}</div>`;
            }
        }
        
        // Auto-test al caricamento
        window.addEventListener('load', function() {
            console.log('üîç Debug page loaded');
            testAPI();
            testMobile();
        });
    </script>
</body>
</html>